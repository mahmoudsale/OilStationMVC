
<link href="~/assets/css/TableDetails.css" rel="stylesheet" />
@model  OilStationMVC.Models.MazotInvoice
@using OilStationMVC.CommonFolder
@using OilStationMVC.Helper;
@using OilStationMVC.Views.Shared.Resources
@{
    var JournalType = OilStationMVC.Helper.ObjectConverter.CInt(Model.JournalType);

}
@{
    IDictionary<string, string> backToListRout = new Dictionary<string, string>();
    backToListRout.Add(new KeyValuePair<string, string>("JournalType", @JournalType.ToString()));
}
@{
    string JournalId = OilStationMVC.Helper.ObjectConverter.Cstr(Model.JournalType);
    if (JournalId == "3")
    {
        ViewData["Title"] = @SiteResource.Edit_Mazot_Invoice;
    }
    if (JournalId == "20")
    {
        ViewData["Title"] = @SiteResource.Edit_Mazot_Customer_Invoice;
    }
}
<div class="row">
    <div class="col-md-12">
        <div class="card card-primary">
            <div class="card-header  ">
                <h3 class="card-title ">@ViewData["Title"] </h3>
            </div>
            @using (Html.BeginForm())
            {
                @Html.AntiForgeryToken()
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                <div class="card-body">
                    <div class="row">
                        <div class="form-group col-md-4">
                            @Html.HiddenFor(model => model.JournalType, htmlAttributes: new { @class = "control-label" })
                            @Html.LabelFor(model => model.InnvoiceNo, htmlAttributes: new { @class = "control-label" })
                            <div>
                                @Html.EditorFor(model => model.InnvoiceNo, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.InnvoiceNo, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="form-group col-md-4">
                            @Html.LabelFor(model => model.dDate, htmlAttributes: new { @class = "control-label" })
                            <div>
                                @Html.EditorFor(model => model.dDate, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.dDate, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="form-group col-md-4">
                            @Html.LabelFor(model => model.CompanyId, htmlAttributes: new { @class = "control-label" })
                            <div>
                                @Html.DropDownListFor(model => model.CompanyId,
                                         Lookups.CompanyLst(),
                                         SiteResource.Please_Select,
                                         new { @class = "form-control"  })
                                @Html.ValidationMessageFor(model => model.CompanyId, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="form-group col-md-4">
                            @Html.LabelFor(model => model.ChargeAreaId, htmlAttributes: new { @class = "control-label" })
                            <div>
                                @Html.DropDownListFor(model => model.ChargeAreaId,
                                         Lookups.ChargeAreaLst(),
                                         SiteResource.Please_Select,
                                         new { @class = "form-control"  })
                                @Html.ValidationMessageFor(model => model.ChargeAreaId, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="form-group col-md-4">
                            @Html.LabelFor(model => model.ChargeCustomerId, htmlAttributes: new { @class = "control-label" })
                            <div>
                                @Html.DropDownListFor(model => model.ChargeCustomerId,
                                         Lookups.Customers(),
                                         SiteResource.Please_Select,
                                         new { @class = "form-control"  })
                                @Html.ValidationMessageFor(model => model.ChargeCustomerId, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="form-group col-md-4">
                            @Html.LabelFor(model => model.CarId, htmlAttributes: new { @class = "control-label" })
                            <div>
                                @Html.DropDownListFor(model => model.CarId,
                                         Lookups.CarLst(),
                                         SiteResource.Please_Select,
                                         new { @class = "form-control"  })
                                @Html.ValidationMessageFor(model => model.CarId, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="form-group col-md-4">
                            @Html.LabelFor(model => model.DriverId, htmlAttributes: new { @class = "control-label" })
                            <div>
                                @Html.DropDownListFor(model => model.DriverId,
                                         Lookups.DriverLst(),
                                         SiteResource.Please_Select,
                                         new { @class = "form-control"  })
                                @Html.ValidationMessageFor(model => model.DriverId, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="form-group col-md-4">
                            @Html.LabelFor(model => model.UnitPrice, htmlAttributes: new { @class = "control-label" })
                            <div>
                                @Html.EditorFor(model => model.UnitPrice, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly" } })
                                @Html.ValidationMessageFor(model => model.UnitPrice, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="form-group col-md-4">
                            @Html.LabelFor(model => model.Qty, htmlAttributes: new { @class = "control-label" })
                            <div>
                                @Html.EditorFor(model => model.Qty, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.Qty, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="form-group col-md-4">
                            @Html.LabelFor(model => model.QtyPrice, htmlAttributes: new { @class = "control-label" })
                            <div>
                                @Html.EditorFor(model => model.QtyPrice, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly" } })
                                @Html.ValidationMessageFor(model => model.QtyPrice, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="form-group col-md-4">
                            @Html.LabelFor(model => model.Fee, htmlAttributes: new { @class = "control-label" })
                            <div>
                                @Html.EditorFor(model => model.Fee, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.Fee, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="form-group col-md-4">
                            @Html.LabelFor(model => model.Tax, htmlAttributes: new { @class = "control-label" })
                            <div>
                                @Html.EditorFor(model => model.Tax, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.Tax, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="form-group col-md-4">
                            @Html.LabelFor(model => model.TotalPrice, htmlAttributes: new { @class = "control-label" })
                            <div>
                                @Html.EditorFor(model => model.TotalPrice, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly" } })
                                @Html.ValidationMessageFor(model => model.TotalPrice, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="form-group col-md-8">
                            @Html.LabelFor(model => model.Desc, htmlAttributes: new { @class = "control-label" })
                            <div>
                                @Html.EditorFor(model => model.Desc, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly" } })
                                @Html.ValidationMessageFor(model => model.Desc, "", new { @class = "text-danger" })
                            </div>
                        </div>
                    </div>


                </div>


                <!-- Editable table -->
                <div class="card">

                    <div class="table-responsive">
                        <table class="table table-striped table-bordered bootstrap-datatable ">
                            <thead>
                                <tr>
                                    <th>@SiteResource.Customer</th>
                                    <th>Unit Price</th>
                                    <th>Quantity</th>
                                    <th>Fees</th>
                                    <th>Total Price</th>
                                    <th>Area Transport</th>
                                    <th>Transport Unit</th>
                                    <th>Transport Amount</th>

                                </tr>
                            </thead>
                            <tbody>
                                @if (Model.lstDetails.Any())
                                {
                                    for (int i = 0; i < Model.lstDetails.Count; i++)
                                    {
                                        <tr>
                                            <td>
                                                @Html.TextBoxFor(a => a.lstDetails[i].CustomerId)
                                                @Html.ValidationMessageFor(a => a.lstDetails[i].CustomerId)
                                            </td>
                                            <td>
                                                @Html.TextBoxFor(a => a.lstDetails[i].CustomerId)
                                                @Html.ValidationMessageFor(a => a.lstDetails[i].CustomerId)
                                            </td>
                                            <td>
                                                @Html.TextBoxFor(a => a.lstDetails[i].CustomerId)
                                                @Html.ValidationMessageFor(a => a.lstDetails[i].CustomerId)
                                            </td>
                                            <td>
                                                @Html.TextBoxFor(a => a.lstDetails[i].CustomerId)
                                                @Html.ValidationMessageFor(a => a.lstDetails[i].CustomerId)
                                            </td>
                                            <td>
                                                @Html.TextBoxFor(a => a.lstDetails[i].CustomerId)
                                                @Html.ValidationMessageFor(a => a.lstDetails[i].CustomerId)
                                            </td>
                                            <td>
                                                @Html.TextBoxFor(a => a.lstDetails[i].CustomerId)
                                                @Html.ValidationMessageFor(a => a.lstDetails[i].CustomerId)
                                            </td>
                                            <td>
                                                @Html.TextBoxFor(a => a.lstDetails[i].CustomerId)
                                                @Html.ValidationMessageFor(a => a.lstDetails[i].CustomerId)
                                            </td>
                                            <td>
                                                @Html.TextBoxFor(a => a.lstDetails[i].CustomerId)
                                                @Html.ValidationMessageFor(a => a.lstDetails[i].CustomerId)
                                            </td>


                                        </tr>
                                    }
                                }
                            </tbody>
                        </table>
                    </div>

                </div>
                <!-- Editable table -->


                <div class="card-footer">
                    <input type="submit" value="@SiteResource.Save" class="btn btn-primary" />
                    @Html.ActionLink(SiteResource.Back_To_List, "Index", new { JournalType = @JournalType }, new { @class = "btn btn-default" })
                </div>
            }

        </div>
    </div>
</div>
 
